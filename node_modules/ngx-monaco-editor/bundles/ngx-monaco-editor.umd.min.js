!function(o,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/forms"),require("rxjs"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-monaco-editor",["exports","@angular/core","@angular/forms","rxjs","@angular/common"],e):e((o=o||self)["ngx-monaco-editor"]={},o.ng.core,o.ng.forms,o.rxjs,o.ng.common)}(this,(function(o,e,t,i,n){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var r=function(o,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,e){o.__proto__=e}||function(o,e){for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t])})(o,e)};function s(o,e){function t(){this.constructor=o}r(o,e),o.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var d,a=!1,c=function(){function o(o){this.config=o,this.onInit=new e.EventEmitter}return o.prototype.ngAfterViewInit=function(){var o=this;a?d.then((function(){o.initMonaco(o._options)})):(a=!0,d=new Promise((function(e){var t=o.config.baseUrl||"./assets";if("object"!=typeof window.monaco){var i=function(){window.require.config({paths:{vs:t+"/monaco/vs"}}),window.require(["vs/editor/editor.main"],(function(){"function"==typeof o.config.onMonacoLoad&&o.config.onMonacoLoad(),o.initMonaco(o._options),e()}))};if(window.require)i();else{var n=document.createElement("script");n.type="text/javascript",n.src=t+"/monaco/vs/loader.js",n.addEventListener("load",i),document.body.appendChild(n)}}else e()})))},o.prototype.ngOnDestroy=function(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=void 0)},o.propDecorators={_editorContainer:[{type:e.ViewChild,args:["editorContainer",{static:!0}]}],onInit:[{type:e.Output}]},o}();var u=new e.InjectionToken("NGX_MONACO_EDITOR_CONFIG");var p=function(o){function n(e,t){var i=o.call(this,t)||this;return i.zone=e,i.editorConfig=t,i._value="",i.propagateChange=function(o){},i.onTouched=function(){},i}return s(n,o),Object.defineProperty(n.prototype,"options",{get:function(){return this._options},set:function(o){this._options=Object.assign({},this.config.defaultOptions,o),this._editor&&(this._editor.dispose(),this.initMonaco(o))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"model",{set:function(o){this.options.model=o,this._editor&&(this._editor.dispose(),this.initMonaco(this.options))},enumerable:!0,configurable:!0}),n.prototype.writeValue=function(o){var e=this;this._value=o||"",setTimeout((function(){e._editor&&!e.options.model&&e._editor.setValue(e._value)}))},n.prototype.registerOnChange=function(o){this.propagateChange=o},n.prototype.registerOnTouched=function(o){this.onTouched=o},n.prototype.initMonaco=function(o){var e=this,t=!!o.model;if(t){var n=monaco.editor.getModel(o.model.uri||"");n?(o.model=n,o.model.setValue(this._value)):o.model=monaco.editor.createModel(o.model.value,o.model.language,o.model.uri)}this._editor=monaco.editor.create(this._editorContainer.nativeElement,o),t||this._editor.setValue(this._value),this._editor.onDidChangeModelContent((function(o){var t=e._editor.getValue();e.zone.run((function(){e.propagateChange(t),e._value=t}))})),this._editor.onDidBlurEditorWidget((function(){e.onTouched()})),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=i.fromEvent(window,"resize").subscribe((function(){return e._editor.layout()})),this.onInit.emit(this._editor)},n.decorators=[{type:e.Component,args:[{selector:"ngx-monaco-editor",template:'<div class="editor-container" #editorContainer></div>',providers:[{provide:t.NG_VALUE_ACCESSOR,useExisting:e.forwardRef((function(){return n})),multi:!0}],styles:["\n    :host {\n      display: block;\n      height: 200px;\n    }\n\n    .editor-container {\n      width: 100%;\n      height: 98%;\n    }\n  "]}]}],n.ctorParameters=function(){return[{type:e.NgZone},{type:void 0,decorators:[{type:e.Inject,args:[u]}]}]},n.propDecorators={options:[{type:e.Input,args:["options"]}],model:[{type:e.Input,args:["model"]}]},n}(c);var l=function(o){function t(e){var t=o.call(this,e)||this;return t.editorConfig=e,t}return s(t,o),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(o){this._options=Object.assign({},this.config.defaultOptions,o),this._editor&&(this._editor.dispose(),this.initMonaco(o))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalModel",{set:function(o){this._originalModel=o,this._editor&&(this._editor.dispose(),this.initMonaco(this.options))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modifiedModel",{set:function(o){this._modifiedModel=o,this._editor&&(this._editor.dispose(),this.initMonaco(this.options))},enumerable:!0,configurable:!0}),t.prototype.initMonaco=function(o){var e=this;if(!this._originalModel||!this._modifiedModel)throw new Error("originalModel or modifiedModel not found for ngx-monaco-diff-editor");this._originalModel.language=this._originalModel.language||o.language,this._modifiedModel.language=this._modifiedModel.language||o.language;var t=monaco.editor.createModel(this._originalModel.code,this._originalModel.language),n=monaco.editor.createModel(this._modifiedModel.code,this._modifiedModel.language);this._editorContainer.nativeElement.innerHTML="";var r=o.theme;this._editor=monaco.editor.createDiffEditor(this._editorContainer.nativeElement,o),o.theme=r,this._editor.setModel({original:t,modified:n}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=i.fromEvent(window,"resize").subscribe((function(){return e._editor.layout()})),this.onInit.emit(this._editor)},t.decorators=[{type:e.Component,args:[{selector:"ngx-monaco-diff-editor",template:'<div class="editor-container" #editorContainer></div>',styles:["\n    :host {\n      display: block;\n      height: 200px;\n    }\n\n    .editor-container {\n      width: 100%;\n      height: 98%;\n    }\n  "]}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[u]}]}]},t.propDecorators={options:[{type:e.Input,args:["options"]}],originalModel:[{type:e.Input,args:["originalModel"]}],modifiedModel:[{type:e.Input,args:["modifiedModel"]}]},t}(c);var f=function(){function o(){}return o.forRoot=function(e){return void 0===e&&(e={}),{ngModule:o,providers:[{provide:u,useValue:e}]}},o.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[p,l],exports:[p,l]}]}],o}();o.EditorComponent=p,o.MonacoEditorModule=f,o.NGX_MONACO_EDITOR_CONFIG=u,o.ɵa=c,o.ɵb=l,Object.defineProperty(o,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-monaco-editor.umd.min.js.map